<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Palavra do Impostor</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  .fade { opacity: 0; transform: translateY(20px); pointer-events: none; transition: opacity 0.5s ease, transform 0.5s ease; }
  .fade.show { opacity: 1; transform: translateY(0); pointer-events: auto; }
  .timer-circle { transform-origin: 50% 50%; stroke-linecap: round; stroke-width: 16; fill: none; transition: stroke-dashoffset 0.2s linear, stroke 0.5s linear; }
  h1 { font-size: clamp(2rem, 5vw, 4rem); }
  h2 { font-size: clamp(1.5rem, 4vw, 3rem); }
  p, button, input { font-size: clamp(1rem, 2.5vw, 1.3rem); }
</style>
</head>
<body class="bg-[#1a1a2e] text-white font-sans">

<div class="container mx-auto p-4 sm:p-6 text-center max-w-2xl">

  <!-- Setup Screen -->
  <div id="setupScreen" class="fade show">
    <h1 class="mb-6 font-bold">Configurar Jogo</h1>
    <div class="flex flex-col gap-4">
      <div>
        <label class="block mb-1">Número de jogadores</label>
        <input id="playerCount" type="number" value="5" min="3" max="10" class="text-black p-3 rounded w-full sm:w-40">
      </div>
      <div>
        <label class="block mb-1">Tempo da Partida (minutos)</label>
        <input id="gameTime" type="number" value="5" min="1" max="30" class="text-black p-3 rounded w-full sm:w-40">
      </div>
      <div>
        <label class="block mb-1">Palavra Secreta</label>
        <input id="secretWord" type="text" class="text-black p-3 rounded w-full">
      </div>
      <div>
        <label class="block mb-1">Dica para o impostor</label>
        <input id="gameHint" type="text" class="text-black p-3 rounded w-full">
      </div>
    </div>
    <div class="flex flex-col sm:flex-row gap-4 mt-6">
      <button onclick="chooseRandomWord()" class="bg-orange-500 hover:bg-orange-600 px-6 py-4 rounded-lg font-bold w-full sm:w-auto">Palavra Aleatória</button>
      <button onclick="startGame()" class="bg-blue-600 hover:bg-blue-700 px-6 py-4 rounded-lg font-bold w-full sm:w-auto">Iniciar</button>
    </div>
  </div>

  <!-- Role Reveal -->
  <div id="roleScreen" class="fade">
    <h2 id="roleTitle" class="mb-6 font-bold"></h2>
    <div id="wordBox" class="hidden p-6 bg-gray-800 rounded-lg mb-6 font-extrabold"></div>
    <div class="flex flex-col gap-3">
      <button id="seeWordBtn" onclick="seeWord()" class="bg-green-600 px-6 py-4 rounded-lg font-bold w-full">Ver Palavra</button>
      <button id="hideWordBtn" onclick="hideWord()" class="hidden bg-yellow-600 px-6 py-4 rounded-lg font-bold w-full">Ocultar</button>
      <button id="nextBtn" onclick="nextPlayer()" class="bg-blue-600 px-6 py-4 rounded-lg font-bold w-full">Próximo Jogador</button>
      <button id="startMatchBtn" onclick="startMatch()" class="hidden bg-purple-600 px-6 py-4 rounded-lg font-bold w-full">Iniciar Partida</button>
    </div>
  </div>

  <!-- Match -->
  <div id="matchScreen" class="fade">
    <h2 class="mb-6 font-bold">Partida em andamento</h2>
    <p id="turnInfo" class="mb-6"></p>
    <div class="flex justify-center mb-6">
      <svg width="clamp(160px,40vw,250px)" height="clamp(160px,40vw,250px)">
        <circle cx="100" cy="100" r="90" class="timer-circle" stroke="#10b981" stroke-dasharray="565.48" stroke-dashoffset="565.48"></circle>
        <text id="timerText" x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#10b981" font-weight="bold">0:00</text>
      </svg>
    </div>
    <button onclick="endMatch()" class="bg-red-600 px-6 py-4 rounded-lg font-bold w-full">Encerrar e Votar</button>
  </div>

  <!-- Voting -->
  <div id="votingScreen" class="fade">
    <h2 class="mb-6 font-bold">Quem é o impostor?</h2>
    <div id="voteOptions" class="grid grid-cols-2 sm:grid-cols-3 gap-3"></div>
  </div>

  <!-- Result -->
  <div id="resultScreen" class="fade">
    <h2 id="resultTitle" class="mb-4 font-bold"></h2>
    <p id="resultMessage" class="mb-4"></p>
    <p>A palavra era:</p>
    <div id="revealWord" class="p-6 bg-gray-800 rounded-lg mb-6 font-extrabold"></div>
    <button onclick="resetGame()" class="bg-green-600 px-6 py-4 rounded-lg font-bold w-full">Novo Jogo</button>
  </div>
</div>

<script>
// ==== WORDLIST (300 palavras) ====
const wordList = [
  // 50 Frutas
  {word:"Manga",hint:"Fruta"},{word:"Banana",hint:"Fruta"},{word:"Morango",hint:"Fruta"},{word:"Abacaxi",hint:"Fruta"},{word:"Uva",hint:"Fruta"},{word:"Pera",hint:"Fruta"},{word:"Maçã",hint:"Fruta"},{word:"Melancia",hint:"Fruta"},{word:"Caju",hint:"Fruta"},{word:"Kiwi",hint:"Fruta"},
  {word:"Jabuticaba",hint:"Fruta"},{word:"Acerola",hint:"Fruta"},{word:"Pitanga",hint:"Fruta"},{word:"Framboesa",hint:"Fruta"},{word:"Amora",hint:"Fruta"},{word:"Tangerina",hint:"Fruta"},{word:"Laranja",hint:"Fruta"},{word:"Limão",hint:"Fruta"},{word:"Carambola",hint:"Fruta"},{word:"Mamão",hint:"Fruta"},
  {word:"Pêssego",hint:"Fruta"},{word:"Figo",hint:"Fruta"},{word:"Cereja",hint:"Fruta"},{word:"Graviola",hint:"Fruta"},{word:"Maracujá",hint:"Fruta"},{word:"Guaraná",hint:"Fruta"},{word:"Buriti",hint:"Fruta"},{word:"Sapoti",hint:"Fruta"},{word:"Tamarindo",hint:"Fruta"},{word:"Romã",hint:"Fruta"},
  {word:"Melão",hint:"Fruta"},{word:"Seriguela",hint:"Fruta"},{word:"Cupuaçu",hint:"Fruta"},{word:"Jenipapo",hint:"Fruta"},{word:"Pitaya",hint:"Fruta"},{word:"Ameixa",hint:"Fruta"},{word:"Jaca",hint:"Fruta"},{word:"Cabeludinha",hint:"Fruta"},{word:"Araticum",hint:"Fruta"},{word:"Umbu",hint:"Fruta"},
  {word:"Pinha",hint:"Fruta"},{word:"Murici",hint:"Fruta"},{word:"Pequi",hint:"Fruta"},{word:"Cambuci",hint:"Fruta"},{word:"Cacau",hint:"Fruta"},{word:"Guabiroba",hint:"Fruta"},{word:"Ingá",hint:"Fruta"},{word:"Cupu",hint:"Fruta"},{word:"Bacaba",hint:"Fruta"},{word:"Butiá",hint:"Fruta"},

  // 50 Animais
  {word:"Leão",hint:"Animal"},{word:"Elefante",hint:"Animal"},{word:"Cavalo",hint:"Animal"},{word:"Tigre",hint:"Animal"},{word:"Jacaré",hint:"Animal"},{word:"Girafa",hint:"Animal"},{word:"Baleia",hint:"Animal"},{word:"Golfinho",hint:"Animal"},{word:"Cachorro",hint:"Animal"},{word:"Gato",hint:"Animal"},
  {word:"Papagaio",hint:"Animal"},{word:"Arara",hint:"Animal"},{word:"Macaco",hint:"Animal"},{word:"Urso",hint:"Animal"},{word:"Rinoceronte",hint:"Animal"},{word:"Hipopótamo",hint:"Animal"},{word:"Camelo",hint:"Animal"},{word:"Lobo",hint:"Animal"},{word:"Raposa",hint:"Animal"},{word:"Canguru",hint:"Animal"},
  {word:"Panda",hint:"Animal"},{word:"Tartaruga",hint:"Animal"},{word:"Cobra",hint:"Animal"},{word:"Lagarto",hint:"Animal"},{word:"Pinguim",hint:"Animal"},{word:"Coruja",hint:"Animal"},{word:"Águia",hint:"Animal"},{word:"Tatu",hint:"Animal"},{word:"Tamanduá",hint:"Animal"},{word:"Bicho-preguiça",hint:"Animal"},
  {word:"Jacutinga",hint:"Animal"},{word:"Anta",hint:"Animal"},{word:"Capivara",hint:"Animal"},{word:"Onça",hint:"Animal"},{word:"Gavião",hint:"Animal"},{word:"Pavão",hint:"Animal"},{word:"Flamingo",hint:"Animal"},{word:"Camaleão",hint:"Animal"},{word:"Coelho",hint:"Animal"},{word:"Esquilo",hint:"Animal"},
  {word:"Rato",hint:"Animal"},{word:"Morcego",hint:"Animal"},{word:"Peixe",hint:"Animal"},{word:"Tubarao",hint:"Animal"},{word:"Polvo",hint:"Animal"},{word:"Caranguejo",hint:"Animal"},{word:"Lagosta",hint:"Animal"},{word:"Abelha",hint:"Animal"},{word:"Formiga",hint:"Animal"},{word:"Borboleta",hint:"Animal"},

  // 100 Objetos
  {word:"Computador",hint:"Objeto"},{word:"Cadeira",hint:"Objeto"},{word:"Celular",hint:"Objeto"},{word:"Livro",hint:"Objeto"},{word:"Mesa",hint:"Objeto"},{word:"Caneta",hint:"Objeto"},{word:"Lápis",hint:"Objeto"},{word:"Borracha",hint:"Objeto"},{word:"Tesoura",hint:"Objeto"},{word:"Prato",hint:"Objeto"},
  {word:"Copo",hint:"Objeto"},{word:"Panela",hint:"Objeto"},{word:"Faca",hint:"Objeto"},{word:"Garfo",hint:"Objeto"},{word:"Colher",hint:"Objeto"},{word:"Chave",hint:"Objeto"},{word:"Porta",hint:"Objeto"},{word:"Janela",hint:"Objeto"},{word:"Sapato",hint:"Objeto"},{word:"Relógio",hint:"Objeto"},
  {word:"Óculos",hint:"Objeto"},{word:"Boné",hint:"Objeto"},{word:"Chapéu",hint:"Objeto"},{word:"Camisa",hint:"Objeto"},{word:"Calça",hint:"Objeto"},{word:"Bola",hint:"Objeto"},{word:"Carrinho",hint:"Objeto"},{word:"Bicicleta",hint:"Objeto"},{word:"Moto",hint:"Objeto"},{word:"Carro",hint:"Objeto"},
  {word:"Avião",hint:"Objeto"},{word:"Barco",hint:"Objeto"},{word:"Navio",hint:"Objeto"},{word:"Ônibus",hint:"Objeto"},{word:"Caminhão",hint:"Objeto"},{word:"Violão",hint:"Objeto"},{word:"Guitarra",hint:"Objeto"},{word:"Bateria",hint:"Objeto"},{word:"Microfone",hint:"Objeto"},{word:"Caixa",hint:"Objeto"},
  {word:"Sofá",hint:"Objeto"},{word:"Cama",hint:"Objeto"},{word:"Travesseiro",hint:"Objeto"},{word:"Colchão",hint:"Objeto"},{word:"Cobertor",hint:"Objeto"},{word:"Quadro",hint:"Objeto"},{word:"Televisão",hint:"Objeto"},{word:"Controle",hint:"Objeto"},{word:"Lampada",hint:"Objeto"},{word:"Ventilador",hint:"Objeto"},
  {word:"Ar-condicionado",hint:"Objeto"},{word:"Fogão",hint:"Objeto"},{word:"Geladeira",hint:"Objeto"},{word:"Microondas",hint:"Objeto"},{word:"Forno",hint:"Objeto"},{word:"Liquidificador",hint:"Objeto"},{word:"Mixer",hint:"Objeto"},{word:"Batedeira",hint:"Objeto"},{word:"Aspirador",hint:"Objeto"},{word:"Rádio",hint:"Objeto"},
  {word:"Caixa de Som",hint:"Objeto"},{word:"Monitor",hint:"Objeto"},{word:"Mouse",hint:"Objeto"},{word:"Teclado",hint:"Objeto"},{word:"Impressora",hint:"Objeto"},{word:"Caneca",hint:"Objeto"},{word:"Espelho",hint:"Objeto"},{word:"Perfume",hint:"Objeto"},{word:"Escova",hint:"Objeto"},{word:"Pente",hint:"Objeto"},
  {word:"Sabonete",hint:"Objeto"},{word:"Shampoo",hint:"Objeto"},{word:"Condicionador",hint:"Objeto"},{word:"Toalha",hint:"Objeto"},{word:"Balde",hint:"Objeto"},{word:"Vassoura",hint:"Objeto"},{word:"Pá",hint:"Objeto"},{word:"Rodo",hint:"Objeto"},{word:"Livro",hint:"Objeto"},{word:"Revista",hint:"Objeto"},
  {word:"Agenda",hint:"Objeto"},{word:"Diário",hint:"Objeto"},{word:"Caderno",hint:"Objeto"},{word:"Mochila",hint:"Objeto"},{word:"Bolsa",hint:"Objeto"},{word:"Carteira",hint:"Objeto"},{word:"Caixa de Ferramenta",hint:"Objeto"},{word:"Martelo",hint:"Objeto"},{word:"Alicate",hint:"Objeto"},{word:"Serrote",hint:"Objeto"},
  {word:"Parafuso",hint:"Objeto"},{word:"Prego",hint:"Objeto"},{word:"Trena",hint:"Objeto"},{word:"Lanterna",hint:"Objeto"},{word:"Bússola",hint:"Objeto"},{word:"Mapa",hint:"Objeto"},{word:"Globo",hint:"Objeto"},{word:"Bússola",hint:"Objeto"},{word:"Termômetro",hint:"Objeto"},{word:"Estetoscópio",hint:"Objeto"},

  // 100 Extras (mistos)
  {word:"Pizza",hint:"Comida"},{word:"Hamburguer",hint:"Comida"},{word:"Lasanha",hint:"Comida"},{word:"Pastel",hint:"Comida"},{word:"Churrasco",hint:"Comida"},{word:"Feijoada",hint:"Comida"},{word:"Arroz",hint:"Comida"},{word:"Feijão",hint:"Comida"},{word:"Batata",hint:"Comida"},{word:"Cenoura",hint:"Comida"},
  {word:"Alface",hint:"Comida"},{word:"Tomate",hint:"Comida"},{word:"Pepino",hint:"Comida"},{word:"Abóbora",hint:"Comida"},{word:"Couve",hint:"Comida"},{word:"Espinafre",hint:"Comida"},{word:"Quiabo",hint:"Comida"},{word:"Chuchu",hint:"Comida"},{word:"Mandioquinha",hint:"Comida"},{word:"Mandioca",hint:"Comida"},
  {word:"Macarrão",hint:"Comida"},{word:"Sopa",hint:"Comida"},{word:"Salada",hint:"Comida"},{word:"Biscoito",hint:"Comida"},{word:"Chocolate",hint:"Comida"},{word:"Sorvete",hint:"Comida"},{word:"Bolo",hint:"Comida"},{word:"Pão",hint:"Comida"},{word:"Torta",hint:"Comida"},{word:"Café",hint:"Comida"},
  {word:"Chá",hint:"Comida"},{word:"Suco",hint:"Comida"},{word:"Refrigerante",hint:"Comida"},{word:"Vinho",hint:"Comida"},{word:"Cerveja",hint:"Comida"},{word:"Água",hint:"Comida"},{word:"Suéter",hint:"Roupa"},{word:"Jaqueta",hint:"Roupa"},{word:"Blusa",hint:"Roupa"},{word:"Vestido",hint:"Roupa"},
  {word:"Saia",hint:"Roupa"},{word:"Meia",hint:"Roupa"},{word:"Tênis",hint:"Roupa"},{word:"Sandália",hint:"Roupa"},{word:"Bota",hint:"Roupa"},{word:"Cinto",hint:"Roupa"},{word:"Gravata",hint:"Roupa"},{word:"Fone",hint:"Objeto"},{word:"Tablet",hint:"Objeto"},{word:"Notebook",hint:"Objeto"},
  {word:"Drone",hint:"Objeto"},{word:"Robô",hint:"Objeto"},{word:"Satélite",hint:"Objeto"},{word:"Foguete",hint:"Objeto"},{word:"Planeta",hint:"Espaço"},{word:"Estrela",hint:"Espaço"},{word:"Lua",hint:"Espaço"},{word:"Sol",hint:"Espaço"},{word:"Galáxia",hint:"Espaço"},{word:"Cometa",hint:"Espaço"},
  {word:"Meteorito",hint:"Espaço"},{word:"Buraco negro",hint:"Espaço"},{word:"Universo",hint:"Espaço"},{word:"Espaçonave",hint:"Espaço"},{word:"Astronauta",hint:"Espaço"},{word:"Marte",hint:"Espaço"},{word:"Júpiter",hint:"Espaço"},{word:"Saturno",hint:"Espaço"},{word:"Vênus",hint:"Espaço"},{word:"Mercúrio",hint:"Espaço"},
  {word:"Netuno",hint:"Espaço"},{word:"Urano",hint:"Espaço"},{word:"Plutão",hint:"Espaço"},{word:"Estádio",hint:"Lugar"},{word:"Praia",hint:"Lugar"},{word:"Montanha",hint:"Lugar"},{word:"Floresta",hint:"Lugar"},{word:"Rio",hint:"Lugar"},{word:"Lago",hint:"Lugar"},{word:"Cachoeira",hint:"Lugar"},
  {word:"Deserto",hint:"Lugar"},{word:"Cidade",hint:"Lugar"},{word:"Vila",hint:"Lugar"},{word:"Castelo",hint:"Lugar"},{word:"Palácio",hint:"Lugar"},{word:"Igreja",hint:"Lugar"},{word:"Templo",hint:"Lugar"},{word:"Escola",hint:"Lugar"},{word:"Hospital",hint:"Lugar"},{word:"Mercado",hint:"Lugar"}
];

// ==== VARIÁVEIS ====
let players = [];
let impostorIndex = 0;
let currentPlayer = 0;
let secretWord = "";
let gameHint = "";
let timerInterval;

// ==== FUNÇÕES ====
function showScreen(id) {
  document.querySelectorAll(".fade").forEach(div => div.classList.remove("show"));
  document.getElementById(id).classList.add("show");
}

function chooseRandomWord() {
  const rnd = wordList[Math.floor(Math.random()*wordList.length)];
  document.getElementById("secretWord").value = rnd.word;
  document.getElementById("gameHint").value = rnd.hint;
}

function startGame() {
  const count = parseInt(document.getElementById("playerCount").value);
  secretWord = document.getElementById("secretWord").value;
  gameHint = document.getElementById("gameHint").value;

  if(!secretWord) return alert("Defina a palavra secreta ou escolha aleatória!");

  players = Array.from({length:count}, (_,i)=>`Jogador ${i+1}`);
  impostorIndex = Math.floor(Math.random()*count);
  currentPlayer = 0;

  document.getElementById("roleTitle").innerText = players[currentPlayer];
  showScreen("roleScreen");
}

function seeWord() {
  if(currentPlayer === impostorIndex){
    document.getElementById("wordBox").innerText = `Dica: ${gameHint}`;
  } else {
    document.getElementById("wordBox").innerText = `Palavra: ${secretWord}`;
  }
  document.getElementById("wordBox").classList.remove("hidden");
  document.getElementById("seeWordBtn").classList.add("hidden");
  document.getElementById("hideWordBtn").classList.remove("hidden");
}

function hideWord() {
  document.getElementById("wordBox").classList.add("hidden");
  document.getElementById("seeWordBtn").classList.remove("hidden");
  document.getElementById("hideWordBtn").classList.add("hidden");
}

function nextPlayer() {
  currentPlayer++;
  if(currentPlayer < players.length){
    document.getElementById("roleTitle").innerText = players[currentPlayer];
  } else {
    document.getElementById("nextBtn").classList.add("hidden");
    document.getElementById("startMatchBtn").classList.remove("hidden");
    document.getElementById("roleTitle").innerText = "Todos viram sua palavra";
  }
  hideWord();
}

function startMatch() {
  showScreen("matchScreen");
  const rndStart = Math.floor(Math.random()*players.length);
  document.getElementById("turnInfo").innerText = `${players[rndStart]} começa!`;
  startTimer();
}

function startTimer() {
  const minutes = parseInt(document.getElementById("gameTime").value);
  let total = minutes*60;
  const circle = document.querySelector(".timer-circle");
  const dash = 565.48;

  clearInterval(timerInterval);
  timerInterval = setInterval(()=>{
    const min = Math.floor(total/60);
    const sec = total%60;
    document.getElementById("timerText").textContent = `${min}:${sec.toString().padStart(2,"0")}`;
    const offset = dash - (dash*(total/(minutes*60)));
    circle.style.strokeDashoffset = offset;
    circle.setAttribute("stroke", total<30 ? "#ef4444":"#10b981");

    if(total<=0){ clearInterval(timerInterval); endMatch(); }
    total--;
  },1000);
}

function endMatch() {
  clearInterval(timerInterval);
  showScreen("votingScreen");
  const voteDiv = document.getElementById("voteOptions");
  voteDiv.innerHTML="";
  players.forEach((p,i)=>{
    const btn=document.createElement("button");
    btn.textContent=p;
    btn.className="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg font-bold";
    btn.onclick=()=>showResult(i);
    voteDiv.appendChild(btn);
  });
}

function showResult(votedIndex) {
  showScreen("resultScreen");
  document.getElementById("revealWord").innerText=secretWord;
  if(votedIndex===impostorIndex){
    document.getElementById("resultTitle").innerText="Acertaram!";
    document.getElementById("resultMessage").innerText=`O impostor era ${players[impostorIndex]}!`;
  } else {
    document.getElementById("resultTitle").innerText="Erraram!";
    document.getElementById("resultMessage").innerText=`O impostor era ${players[impostorIndex]}, mas vocês votaram em ${players[votedIndex]}.`;
  }
}

function resetGame(){
  showScreen("setupScreen");
  document.getElementById("nextBtn").classList.remove("hidden");
  document.getElementById("startMatchBtn").classList.add("hidden");
  document.getElementById("wordBox").classList.add("hidden");
}
</script>
</body>
</html>
